data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, scientificName, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
data_cyathea
data_cythea
data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, scientificName, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
data_ciathea
data_cyathea$identifiedBy
classify_occ(occ = data_cyathea, spec = speciaLists, ignore.det.names = ig.names)
data_cyathea$scientificName
alsophila_setosa$scientificName
data_cyathea$scientificName
alsophila_setosa$scientificName
institutionCode <- occ_Cyathea$data$institutionCode
collectionCode <- occ_Cyathea$data$collectionCode
catalogNumber <- occ_Cyathea$data$catalogNumber
year <- occ_Cyathea$data$year
dateIdentified <- occ_Cyathea$data$dateIdentified
scientificName <- as.factor(occ_Cyathea$data$scientificName)
identifiedBy <- as.factor(occ_Cyathea$data$identifiedBy)
recordedBy <- occ_Cyathea$data$recordedBy
decimalLatitude <- occ_Cyathea$data$decimalLatitude
decimalLongitude <- occ_Cyathea$data$decimalLongitude
basisOfRecord <- occ_Cyathea$data$basisOfRecord
mediaType <- occ_Cyathea$data$type
occurrenceID <- occ_Cyathea$data$occurrenceID
data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, scientificName, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
data_cyathea
data_cyathea$scientificName
classify_occ(occ = data_cyathea, spec = speciaLists, ignore.det.names = ig.names)
classify_occ
institutionCode <- occ_Cythea_phale$data$institutionCode
collectionCode <- occ_Cythea_phale$data$collectionCode
catalogNumber <- occ_Cythea_phale$data$catalogNumber
year <- occ_Cythea_phale$data$year
dateIdentified <- occ_Cythea_phale$data$dateIdentified
species <- occ_Cythea_phale$data$scientificName
identifiedBy <- occ_Cythea_phale$data$identifiedBy
recordedBy <- occ_Cythea_phale$data$recordedBy
decimalLatitude <- occ_Cythea_phale$data$decimalLatitude
decimalLongitude <- occ_Cythea_phale$data$decimalLongitude
basisOfRecord <- occ_Cythea_phale$data$basisOfRecord
mediaType <- occ_Cythea_phale$data$type
occurrenceID <- occ_Cythea_phale$data$occurrenceID
data_cytheaphal <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
data_cyathea
institutionCode <- occ_Cyathea$data$institutionCode
collectionCode <- occ_Cyathea$data$collectionCode
catalogNumber <- occ_Cyathea$data$catalogNumber
year <- occ_Cyathea$data$year
dateIdentified <- occ_Cyathea$data$dateIdentified
species <- as.factor(occ_Cyathea$data$scientificName)
identifiedBy <- as.factor(occ_Cyathea$data$identifiedBy)
recordedBy <- occ_Cyathea$data$recordedBy
decimalLatitude <- occ_Cyathea$data$decimalLatitude
decimalLongitude <- occ_Cyathea$data$decimalLongitude
basisOfRecord <- occ_Cyathea$data$basisOfRecord
mediaType <- occ_Cyathea$data$type
occurrenceID <- occ_Cyathea$data$occurrenceID
data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
data_cythea
data_cyathea
classify_occ(occ = data_cyathea, spec = speciaLists, ignore.det.names = ig.names)
all_occ <- rbind(data_alsophila_setosa, data_cyathea, data_cytheaphal) # binding all data in a single dataframe
institutionCode <- occ_Alsophila_setosa$data$institutionCode
collectionCode <- occ_Alsophila_setosa$data$collectionCode
catalogNumber <- occ_Alsophila_setosa$data$catalogNumber
year <- occ_Alsophila_setosa$data$year
dateIdentified <- occ_Alsophila_setosa$data$dateIdentified
species <- occ_Alsophila_setosa$data$scientificName
identifiedBy <- occ_Alsophila_setosa$data$identifiedBy
recordedBy <- occ_Alsophila_setosa$data$recordedBy
decimalLatitude <- occ_Alsophila_setosa$data$decimalLatitude
decimalLongitude <- occ_Alsophila_setosa$data$decimalLongitude
basisOfRecord <- occ_Alsophila_setosa$data$basisOfRecord
mediaType <- occ_Alsophila_setosa$data$type
occurrenceID <- occ_Alsophila_setosa$data$occurrenceID
data_alsophila_setosa <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, scientificName, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
institutionCode <- occ_Alsophila_setosa$data$institutionCode
collectionCode <- occ_Alsophila_setosa$data$collectionCode
catalogNumber <- occ_Alsophila_setosa$data$catalogNumber
year <- occ_Alsophila_setosa$data$year
dateIdentified <- occ_Alsophila_setosa$data$dateIdentified
species <- occ_Alsophila_setosa$data$scientificName
identifiedBy <- occ_Alsophila_setosa$data$identifiedBy
recordedBy <- occ_Alsophila_setosa$data$recordedBy
decimalLatitude <- occ_Alsophila_setosa$data$decimalLatitude
decimalLongitude <- occ_Alsophila_setosa$data$decimalLongitude
basisOfRecord <- occ_Alsophila_setosa$data$basisOfRecord
mediaType <- occ_Alsophila_setosa$data$type
occurrenceID <- occ_Alsophila_setosa$data$occurrenceID
data_alsophila_setosa <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
institutionCode <- occ_Cyathea$data$institutionCode
collectionCode <- occ_Cyathea$data$collectionCode
catalogNumber <- occ_Cyathea$data$catalogNumber
year <- occ_Cyathea$data$year
dateIdentified <- occ_Cyathea$data$dateIdentified
species <- as.factor(occ_Cyathea$data$scientificName)
identifiedBy <- as.factor(occ_Cyathea$data$identifiedBy)
recordedBy <- occ_Cyathea$data$recordedBy
decimalLatitude <- occ_Cyathea$data$decimalLatitude
decimalLongitude <- occ_Cyathea$data$decimalLongitude
basisOfRecord <- occ_Cyathea$data$basisOfRecord
mediaType <- occ_Cyathea$data$type
occurrenceID <- occ_Cyathea$data$occurrenceID
data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
rbind(data_alsophila_setosa, data_cyathea, data_cytheaphal)
all_occ <- rbind(data_alsophila_setosa, data_cyathea, data_cytheaphal) # binding all data in a single dataframe
ig.names
speciaLists
occ.class_all <- classify_occ(occ = all_occ, spec = speciaLists, ignore.det.names = ig.names)
table(occ.class_all$naturaList_levels)
institutionCode <- occ_Cythea_phale$data$institutionCode
collectionCode <- occ_Cythea_phale$data$collectionCode
catalogNumber <- occ_Cythea_phale$data$catalogNumber
year <- occ_Cythea_phale$data$year
dateIdentified <- occ_Cythea_phale$data$dateIdentified
speciesNames <- occ_Cythea_phale$data$scientificName
identifiedBy <- occ_Cythea_phale$data$identifiedBy
recordedBy <- occ_Cythea_phale$data$recordedBy
decimalLatitude <- occ_Cythea_phale$data$decimalLatitude
decimalLongitude <- occ_Cythea_phale$data$decimalLongitude
basisOfRecord <- occ_Cythea_phale$data$basisOfRecord
mediaType <- occ_Cythea_phale$data$type
occurrenceID <- occ_Cythea_phale$data$occurrenceID
data_cytheaphal_modif <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, speciesNames, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
classify_occ(occ = data_cytheaphal_modif, scientific.name = "speciesNames")
?cl.eval
?clean_eval
clean_eval(occ.cl = occ.class_all,
env.space = env.space,
geo.space = c.geo.space,
r = raster.temp.prec)
c.geo.space
env.space_Alsophila
c.bioclim_Alsophila
dim(data_alsophila_setosa)
raster.temp.prec
cl.eval_Asetosa <- clean_eval(occ.cl = occ.class_all[1:320, ],
env.space = env.space_Alsophila,
geo.space = c.bioclim_Alsophila,
r = raster.temp.prec_Alsophila) # cleaning process
env.space_Alsophila
c.bioclim_Alsophila
raster.temp.prec_Alsophila
occ.class_all[1:320, ]
clean_eval(occ.cl = occ.class_all[1:320, ],
env.space = env.space_Alsophila,
geo.space = c.bioclim_Alsophila,
r = raster.temp.prec_Alsophila)
dim(data_cyathea)
data_alsophila_setosa$species
levels(data_alsophila_setosa$species)
raster.temp.prec_Alsophila
c.bioclim_Alsophila
env.space_Alsophila
env.space_Cyathea
env.space_Alsophila
c.bioclim_Alsophila
spdf.occ.cl_Alsophila
# delimit the geographic space
# land area
land <- ne_countries(continent = 'south america')
un.land <- unionSpatialPolygons(land, land$scalerank)
# geo space based on crop
c.geo.space_Alsophila <- crop(un.land, c.bioclim_Alsophila)
c.geo.space_Cyathea <- crop(un.land, c.bioclim_Cyathea)
c.geo.space_Cyatheaphal <- crop(un.land, c.bioclim_Cyatheaphal)
clean_eval(occ.cl = occ.class_all[1:320, ],
env.space = env.space_Alsophila,
geo.space = c.geo.space_Alsophila,
r = raster.temp.prec_Alsophila)
levels(occ.class_all$species)
as.factor(occ.class_all$species)
levels(as.factor(occ.class_all$species))
which(occ.class_all$species == "Cyathea corcovadensis Domin")
clean_eval(occ.cl = occ.class_all[ which(occ.class_all$species == "Cyathea corcovadensis Domin"), ],
env.space = env.space_Cyathea,
geo.space = c.bioclim_Cyathea,
r = raster.temp.prec_Cyathea)
clean_eval(occ.cl = occ.class_all[ which(occ.class_all$species == "Cyathea corcovadensis Domin"), ],
env.space = env.space_Cyathea,
geo.space = c.geo.space_Cyathea,
r = raster.temp.prec_Cyathea)
cl.eval_Asetosa <- clean_eval(occ.cl = occ.class_all[1:320, ],
env.space = env.space_Alsophila,
geo.space = c.geo.space_Alsophila,
r = raster.temp.prec_Alsophila) # cleaning process
area_remained_alsophila <- cl.eval_Asetosa
area_remained_alsophila
area_remained_alsophila <- cl.eval_Asetosa$area
area_remained_alsophila
cl.eval_all <- clean_eval(occ.cl = occ.class_all,
env.space = env.space_Alsophila,
geo.space = c.geo.space_Alsophila,
r = raster.temp.prec_Alsophila) # cleaning process
occ.cl_all
library(naturaList)
library(devtools)
library(devtools)
library(raster)
library(maptools)
library(rnaturalearth)
library(sf)
library(rnaturalearth)
library(sf)
library(devtools)
library(rgbif)
occ_Alsophila_setosa <- occ_search(scientificName = "Alsophila setosa", limit = 5000, return = 'data', hasCoordinate = TRUE)
institutionCode <- occ_Alsophila_setosa$data$institutionCode
collectionCode <- occ_Alsophila_setosa$data$collectionCode
catalogNumber <- occ_Alsophila_setosa$data$catalogNumber
year <- occ_Alsophila_setosa$data$year
dateIdentified <- occ_Alsophila_setosa$data$dateIdentified
species <- occ_Alsophila_setosa$data$scientificName
identifiedBy <- occ_Alsophila_setosa$data$identifiedBy
recordedBy <- occ_Alsophila_setosa$data$recordedBy
decimalLatitude <- occ_Alsophila_setosa$data$decimalLatitude
decimalLongitude <- occ_Alsophila_setosa$data$decimalLongitude
basisOfRecord <- occ_Alsophila_setosa$data$basisOfRecord
mediaType <- occ_Alsophila_setosa$data$type
occurrenceID <- occ_Alsophila_setosa$data$occurrenceID
data_alsophila_setosa <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
occ_Cyathea <- occ_search(scientificName = "Cyathea corcovadensis", limit = 5000, return = 'data', hasCoordinate = TRUE)
institutionCode <- occ_Cyathea$data$institutionCode
collectionCode <- occ_Cyathea$data$collectionCode
catalogNumber <- occ_Cyathea$data$catalogNumber
year <- occ_Cyathea$data$year
dateIdentified <- occ_Cyathea$data$dateIdentified
species <- as.factor(occ_Cyathea$data$scientificName)
identifiedBy <- as.factor(occ_Cyathea$data$identifiedBy)
recordedBy <- occ_Cyathea$data$recordedBy
decimalLatitude <- occ_Cyathea$data$decimalLatitude
decimalLongitude <- occ_Cyathea$data$decimalLongitude
basisOfRecord <- occ_Cyathea$data$basisOfRecord
mediaType <- occ_Cyathea$data$type
occurrenceID <- occ_Cyathea$data$occurrenceID
data_cyathea <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
occ_Cythea_phale <- occ_search(scientificName = "Cyathea phalerata", limit = 5000, return = 'data', hasCoordinate = TRUE)
institutionCode <- occ_Cythea_phale$data$institutionCode
collectionCode <- occ_Cythea_phale$data$collectionCode
catalogNumber <- occ_Cythea_phale$data$catalogNumber
year <- occ_Cythea_phale$data$year
dateIdentified <- occ_Cythea_phale$data$dateIdentified
species <- occ_Cythea_phale$data$scientificName
identifiedBy <- occ_Cythea_phale$data$identifiedBy
recordedBy <- occ_Cythea_phale$data$recordedBy
decimalLatitude <- occ_Cythea_phale$data$decimalLatitude
decimalLongitude <- occ_Cythea_phale$data$decimalLongitude
basisOfRecord <- occ_Cythea_phale$data$basisOfRecord
mediaType <- occ_Cythea_phale$data$type
occurrenceID <- occ_Cythea_phale$data$occurrenceID
data_cytheaphal <- data.frame(institutionCode, collectionCode, catalogNumber, year, dateIdentified, species, identifiedBy, decimalLatitude, decimalLongitude, basisOfRecord, mediaType, occurrenceID)
det_names_Alsophila <- get_det_names(data_alsophila_setosa, freq = TRUE)
det_names_Cyathea <- get_det_names(data_cyathea, freq = TRUE)
det_names_Cyatheaphal <- get_det_names(data_cytheaphal, freq = TRUE)
all_occ <- rbind(data_alsophila_setosa, data_cyathea, data_cytheaphal) # binding all data in a single dataframe
data("speciaLists") #specialist data frame
occ.class_all <- classify_occ(occ = all_occ, spec = speciaLists, ignore.det.names = ig.names)
occ.class_all <- classify_occ(occ = all_occ, spec = speciaLists)
table(occ.class_all$naturaList_levels)
bioclim <- getData('worldclim', var='bio', res=10)
occ.cl_all
# Transform occurrence data in SpatialPointsDataFrame
spdf.occ.cl <- SpatialPoints(occ.class_all[, c("decimalLongitude", "decimalLatitude")])
# redefine the extent of bioclim layers based on buffer around the occurrences
c.bioclim <- crop(bioclim, buffer(spdf.occ.cl, 100000)) # 100km buffer
# select two layers
raster.temp.prec <- c.bioclim[[c("bio1", "bio12")]]
df.temp.prec <- as.data.frame(raster.temp.prec)
### Define the environmental space for analysis
env.space <- define_env_space(df.temp.prec, buffer.size = 0.05)
# delimit the geographic space
# land area
land <- ne_countries(continent = 'south america')
un.land <- unionSpatialPolygons(land, land$scalerank)
# geo space based on crop
c.geo.space <- crop(un.land, c.bioclim)
spdf.occ.cl
#geo space based on intersect
i.geo.space <- intersect(un.land, buffer(spdf.occ.cl, 200000))
cl.eval_all <- clean_eval(occ.cl = occ.class_all,
env.space = env.space,
geo.space = c.geo.space,
r = raster.temp.prec) # cleaning process
occ.class_all
env.space
spdf.occ.cl
c.bioclim
raster.temp.prec
df.temp.prec
env.space
i.geo.space
clean_eval(occ.cl = occ.class_all,
env.space = env.space,
geo.space = c.geo.space,
r = raster.temp.prec)
help.package("gbif")
help(packages= "gbif")
help(package = "gbif")
help(package = "rgbif")
teste <- rgbif::gbif("Alsophila", "setosa")
install.packages("dismo")
teste <- dismo::gbif("Alsophila", "setosa")
teste
teste$species
library(dismo)
data_alsophila_setosa <- gbif(genus = "Alsophila", species = "setosa", removeZeros = TRUE, geo = TRUE)
get_det_names(data_alsophila_setosa, freq = TRUE)
data_alsophila_setosa
data_cyathea <- gbif("Cyathea",  "corcovadensis", removeZeros = TRUE, geo = TRUE)
data_cyathea
data_cytheaphal <- gbif("Cyathea", "phalerata", removeZeros = TRUE, geo = TRUE)
# check out if there are strings which are not taxonomists
det_names_Alsophila <- get_det_names(data_alsophila_setosa, freq = TRUE)
det_names_Cyathea <- get_det_names(data_cyathea, freq = TRUE)
det_names_Cyatheaphal <- get_det_names(data_cytheaphal, freq = TRUE)
all_occ <- rbind(data_alsophila_setosa, data_cyathea, data_cytheaphal) # binding all data in a single dataframe
data_alsophila_setosa
dim
dim(data_alsophila_setosa)
dim(data_cyathea)
dim(data_cyatheaphal)
dim(data_cytheaphal)
data_alsophila_setosa <- data_alsophila_setosa[, 1:124]
data_cyathea <- data_cyathea[, 1:124]
data_cyatheaphal <- data_cytheaphal[ , 1:124]
# check out if there are strings which are not taxonomists
det_names_Alsophila <- get_det_names(data_alsophila_setosa, freq = TRUE)
det_names_Cyathea <- get_det_names(data_cyathea, freq = TRUE)
det_names_Cyatheaphal <- get_det_names(data_cyatheaphal, freq = TRUE)
all_occ <- rbind(data_alsophila_setosa, data_cyathea, data_cyatheaphal) # binding all data in a single dataframe
data_alsophila_setosa
data_cyathea
?occ_search
A_setosa <- gbif("Alsophila", "setosa", geo = TRUE)
rm(A_setosa)
occ_allspp <- occ_search(scientificName = c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), limit = 5000, return = "data",
hasCoordinate = TRUE)
occ_allspp
colnames(occ_allspp)
colnames(occ_allspp$data)
occ_allspp$data
class(occ_allspp$data)
class(occ_allspp)
occ_allspp
occ_allspp$data$istitutionCode
str(occ_allspp)
occ_allspp$`Alsophila setosa`
lapply(occ_allspp, function(x){
x$data
})
lapply(c("Alsophila setosa", "Cythea corcovadensis", "Cythea phalerata"), function(x){
occ_allspp$`x`$data
})
lapply(c("Alsophila setosa", "Cythea corcovadensis", "Cythea phalerata"), function(x){
occ_allspp$x$data
})
lapply(c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), function(x){
occ_allspp$x$data
})
lapply(c(`Alsophila setosa`, `Cyathea corcovadensis`, `Cyathea phalerata`), function(x){
occ_allspp$x$data
})
occ_allspp$Alsophila setosa$data
occ_allspp$"Alsophila setosa"$data
occ_allspp$"Alsophila setosa"$data
lapply(c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), function(x){
occ_allspp$"x"$data
})
occ_allspp$x$data
lapply(c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), function(x){
occ_allspp$x$data
})
sapply(c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), function(x){
occ_allspp$x$data
})
occ_allspp$"Cyathea corcovadensis"$data
sapply(c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"), function(x){
occ_allspp$x$data
})
class(occ_allspp)
is.list(occ_allspp)
occ_allspp$`Alsophila setosa`
occ_allspp$`Alsophila setosa`$data
length(occ_allspp)
occ_allspp[[1]]$data
sapply(1:length(occ_allspp), function(x){
occ_allspp[[x]]$data
})
lenght(sapply(1:length(occ_allspp), function(x){
occ_allspp[[x]]$data
}))
length(sapply(1:length(occ_allspp), function(x){
occ_allspp[[x]]$data
}))
lapply(sapply(1:length(occ_allspp), function(x){
occ_allspp[[x]]$data
})), function(x) rbind(x))
dplyr::bind_rows(sapply(1:length(occ_allspp), function(x){
occ_allspp[[x]]$data
}), .id = "column_label")
occ_allspp <- occ_search(scientificName = c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"),
limit = 5000, return = "data",
hasCoordinate = TRUE)
occ_allspp <- occ_search(scientificName = c("Alsophila setosa", "Cyathea corcovadensis", "Cyathea phalerata"),
limit = 5000, return = "data",
hasCoordinate = TRUE)
data_all_occ <- dplyr::bind_rows(sapply(1:length(occ_allspp),
function(x){
occ_allspp[[x]]$data
}
),
.id = "column_label")
occ_allspp
ig.names
# check out if there are strings which are not taxonomists
det_names_all <- get_det_names(data_all_occ, freq = TRUE)
det_names_all
data("speciaLists") #specialist data frame
ig.names
ig.names <- c("-", "Anonymous", "Unknown") # some possible characters that do not corresponds to a specialist
occ.class_all <- classify_occ(occ = data_all_occ, spec = speciaLists, ignore.det.names = ig.names)
colnames(data_all_occ)
?classify_occ
occ.class_all <- classify_occ(occ = data_all_occ, spec = speciaLists,crit.levels = c("det_by_spec", "taxonomist", "sci_colection"), ignore.det.names = ig.names, na.rm.coords = TRUE)
colnames(data_all_occ)
occ.class_all <- classify_occ(occ = data_all_occ, spec = speciaLists, ignore.det.names = ig.names, na.rm.coords = TRUE, media.type = "extensions.http...rs.tdwg.org.dwc.terms.MeasurementOrFact.http...rs.tdwg.org.dwc.terms.measurementUnit.5")
occ.class_all
occ.class_all
speciaLists
head(data_all_occ)
dim(data_all_occ)
colnames(A.setosa)
data_all_occ <- dplyr::bind_rows(sapply(1:length(occ_allspp),
function(x){
occ_allspp[[x]]$data[, colnames(A.setosa)]
}
),
.id = "column_label")
data_all_occ <- dplyr::bind_rows(sapply(1:length(occ_allspp),
function(x){
occ_allspp[[x]]$data[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "mediaType")]
}
),
.id = "column_label")
occ_allspp$`Cyathea corcovadensis`$data$extensions.http...rs.tdwg.org.ac.terms.Multimedia.http...purl.org.dc.elements.1.1.creator
data_all_occ <- dplyr::bind_rows(sapply(1:length(occ_allspp),
function(x){
occ_allspp[[x]]$data[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "data$extensions.http...rs.tdwg.org.ac.terms.Multimedia.http...purl.org.dc.elements.1.1.creator")]
}
),
.id = "column_label")
data_all_occ[, ("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "data$extensions.http...rs.tdwg.org.ac.terms.Multimedia.http...purl.org.dc.elements.1.1.creator")]
data_all_occ[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "data$extensions.http...rs.tdwg.org.ac.terms.Multimedia.http...purl.org.dc.elements.1.1.creator")]
colnames(data_all_occ)
data_all_occ[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus")]
colnames(data_all_occ)
data_all_occ[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", 432)]
data_all_occ <- data_all_occ[, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus")]
data_all_occ <- dplyr::bind_rows(sapply(1:length(occ_allspp),
function(x){
occ_allspp[[x]]$data
}
),
.id = "column_label")
match(data_all_occ, c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus"))
match(colnames(data_all_occ), c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus"))
match(c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus"), colnames(data_all_occ))
colnames(data_all_occ)
cols_sub <- c(match(c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus"), colnames(data_all_occ)), 369)
data_all_occ_sub <- data_all_occ[, cols_sub]
data_all_occ_sub
colnames(data_all_occ_sub) <- c("gbifID", "species", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "mediaType")
# check out if there are strings which are not taxonomists
det_names_all <- get_det_names(data_all_occ_sub, freq = TRUE)
ig.names <- c("-", "Anonymous", "Unknown") # some possible characters that do not corresponds to a specialist
data("speciaLists") #specialist data frame
occ.class_all <- classify_occ(occ = data_all_occ_sub, spec = speciaLists, ignore.det.names = ig.names, na.rm.coords = TRUE)
colnames(data_all_occ)
match(c("gbifID", "species", "year", "dataIdentified", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "occurrenceID"), colnames(data_all_occ))
match(c("gbifID", "species", "year", "dateIdentified", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "occurrenceID"), colnames(data_all_occ))
cols_sub <- c(match(c("gbifID", "species", "year", "dateIdentified", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "occurrenceID"), colnames(data_all_occ)), 369)
data_all_occ_sub <- data_all_occ[, cols_sub]
colnames(data_all_occ_sub) <- c("gbifID", "species", "year", "dateIdentified", "scientificName", "locality", "decimalLatitude", "decimalLongitude", "taxonKey", "basisOfRecord", "institutionCode", "collectionCode", "catalogNumber", "recordNumber", "identifiedBy", "recordedBy", "typeStatus", "occurrenceID", "mediaType")
# check out if there are strings which are not taxonomists
det_names_all <- get_det_names(data_all_occ_sub, freq = TRUE)
ig.names <- c("-", "Anonymous", "Unknown") # some possible characters that do not corresponds to a specialist
data("speciaLists") #specialist data frame
occ.class_all <- classify_occ(occ = data_all_occ_sub, spec = speciaLists, ignore.det.names = ig.names, na.rm.coords = TRUE)
occ.class_all
occ.class_all <- classify_occ(occ = data_all_occ_sub, spec = speciaLists, na.rm.coords = TRUE)
occ.class_all <- classify_occ(occ = data_all_occ_sub, spec = speciaLists)
occ.class_all
data_all_occ_sub
class(data_all_occ_sub)
colnames(data_all_occ_sub)
data_all_occ_sub$mediaType
data_all_occ_sub$species
data_all_occ_sub$year
data_all_occ_sub$gbifID
data_all_occ_sub$dateIdentified
data_all_occ_sub$scientificName
data_all_occ_sub$locality
data_all_occ_sub$decimalLatitude
data_all_occ_sub$decimalLongitude
data_all_occ_sub$taxonKey
data_all_occ_sub$basisOfRecord
data_all_occ_sub$collectionCode
data_all_occ_sub$catalogNumber
data_all_occ_sub$recordNumber
data_all_occ_sub$identifiedBy
data_all_occ_sub$recordedBy
data_all_occ_sub$mediaType
