<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interacting with naturaList: the map_module() function  • naturaList</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Interacting with naturaList: the map_module() function ">
<meta property="og:description" content="naturaList">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">naturaList</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/naturaList_grid_filter_vignette.html">Filter the best classified occurrences within grid cells</a>
    </li>
    <li>
      <a href="../articles/naturaList_map_module_vignette.html">Interacting with naturaList: the map_module() function </a>
    </li>
    <li>
      <a href="../articles/natutaList_clean_eval_vignette.html">Evaluating the filtering process with naturaList</a>
    </li>
    <li>
      <a href="../articles/natutaList_vignette.html">Introduction to naturaList</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/avrodrigues/naturaList/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="naturaList_map_module_vignette_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Interacting with naturaList: the map_module() function</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/avrodrigues/naturaList/blob/master/vignettes/naturaList_map_module_vignette.Rmd"><code>vignettes/naturaList_map_module_vignette.Rmd</code></a></small>
      <div class="hidden name"><code>naturaList_map_module_vignette.Rmd</code></div>

    </div>

    
    
<div id="interactively-exploring-and-editing-occurrence-data" class="section level1">
<h1 class="hasAnchor">
<a href="#interactively-exploring-and-editing-occurrence-data" class="anchor"></a>Interactively exploring and editing occurrence data</h1>
<p>In this article the user can explore the interactive module presented in naturaList package: the <code><a href="../reference/map_module.html">map_module()</a></code> function. Through <code><a href="../reference/map_module.html">map_module()</a></code> the user will be able to visual explore the occurrence data by seeing how it is distributed in space, as described in Figure 1.</p>
<div id="check-out-for-records-in-a-interactive-map-module" class="section level2">
<h2 class="hasAnchor">
<a href="#check-out-for-records-in-a-interactive-map-module" class="anchor"></a>Check out for records in a interactive map module</h2>
<p>The <code><a href="../reference/map_module.html">map_module()</a></code> function allow the user to visualize the occurrence records in a interactive map. To open the interactive module of naturaList package the user must provide an object containing occurrence records obtained from <code>classify_occ</code> function. To illustrate the usage of map module we will use the dataset containing the occurrences of <em>Alsophila setosa</em> and the list of specialist of tree ferns.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/avrodrigues/naturaList">naturaList</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"A.setosa"</span><span class="op">)</span> <span class="co"># occurrence points for A.setosa</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"speciaLists"</span><span class="op">)</span> <span class="co"># list of specialists for A.setosa</span></code></pre></div>
<p>First we need to classify the occurrences of <em>A. setosa</em> through the <code><a href="../reference/classify_occ.html">classify_occ()</a></code> function</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">occ.class</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/classify_occ.html">classify_occ</a></span><span class="op">(</span><span class="va">A.setosa</span>, <span class="va">speciaLists</span><span class="op">)</span></code></pre></div>
<p>Now we can open the map module by providing the classification of <em>A. setosa</em> for <code><a href="../reference/map_module.html">map_module()</a></code> function and save it in an object.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">occ.select</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_module.html">map_module</a></span><span class="op">(</span><span class="va">occ.class</span><span class="op">)</span></code></pre></div>
<p>In this interactive map, the user can click over an occurrence point to see basic information about the record, such as the institution that holds the record, who identified the species and when it was identified. Also, if some error is identified, the user could allow that clicking works to delete points.</p>
<div class="figure">
<img src="../vignettes/fig_map_module.png" alt=""><p class="caption">Fig. 1 - Features of <code><a href="../reference/map_module.html">map_module()</a></code> function used in the example with Alsophila setosa occurrence data. A) the initial display of occurrence records data; B) highlights the features of map_module. I – Select levels to be maintained in the output dataset; II – enable to delete point with click over occurrences; III – show how many points have been selected from the initial dataset; IV – display in the map only occurrences that belong to the selected levels, and turn visualization of the map between OpenStreetMap and Satellite; V – options to draw and edit polygons to select occurrence records that fall within polygon; The “x” – represents a point deleted with click.</p>
</div>
<p>In the Figure 1, you see two screen shots from <code><a href="../reference/map_module.html">map_module()</a></code>. In figure 1A, it is showed the initial display of occurrence records. In figure 1B it is highlighted the features inside <code><a href="../reference/map_module.html">map_module()</a></code>.</p>
<p>In this example, we selected the levels 1 and 2 (Fig 1B - I) to be shown in the module. We also deleted three records by setting on the button <em>delete points with click</em> (Fig 1B - II) and clicking on them. At the end of selection we click on ‘Done !’ button, that will close the map module and the modifications will be stored in occ_select object. The <code>occ.select</code> object corresponds to a data frame containing occurrences of <em>A. setosa</em> after the modification made with the <code><a href="../reference/map_module.html">map_module()</a></code> function.</p>
<p>The <code><a href="../reference/map_module.html">map_module()</a></code> also has the option to draw polygons to select various occurrences that fall inside the polygons. After the selection and click in the button Done! the points are saved in an object. In this example we selected four points using the draw polygon tool of <code><a href="../reference/map_module.html">map_module()</a></code>.</p>
<div class="figure">
<img src="../vignettes/draw_polygon.png" alt=""><p class="caption">Fig. 2 - Draw polygon tool from <code><a href="../reference/map_module.html">map_module()</a></code> function used in the example with Alsophila setosa occurrence data. In this example, the points inside the blue polygon were selected</p>
</div>
<p>The <code><a href="../reference/map_module.html">map_module()</a></code> offers yet two options for the output dataset, which can be chosen in the argument <code>action</code>. If <code>action = "clean"</code> the output dataset contain only the occurrences selected by the user in the application. Otherwise, if <code>action = "flag"</code>, the output dataset indicates which occurrence was selected and which was deleted by the user in the application. The flag option add a new column named <code>map_module_flag</code> to the output dataset, with the tags <code>selected</code> or <code>deleted</code>. By default the <code>action = "clean"</code>. Check out the differences of this option:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">occ.select1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_module.html">map_module</a></span><span class="op">(</span><span class="va">occ.class</span>, action <span class="op">=</span> <span class="st">"flag"</span><span class="op">)</span>
<span class="va">occ.select2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_module.html">map_module</a></span><span class="op">(</span><span class="va">occ.class</span>, action <span class="op">=</span> <span class="st">"clean"</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Arthur  Vinicius Rodrigues, Gabriel Nakamura, Leandro Duarte.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
